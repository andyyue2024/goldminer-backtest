   # 马丁格尔核心参数
    context.symbol = 'SZSE.159869'  # 交易标的
    context.frequency = "120s"
    context.base_investment = 1000  # 基准投资金额（元）
    context.multiplier = 2  # 加仓倍数
    context.max_layers = 7  # 最大加仓层数
    context.price_interval = 0.03  # 价格间隔3%。当加仓倍数是2时，平均成本下降约为价格间隔的一半。
    context.take_profit_ratio = 0.03  # 止盈比例（2%）
    context.stop_loss_ratio = 0.20  # 总亏损止损20%
    context.enable_short = False  # 是否启用做空


SZSE.159869 , base_price: 0.836 ,  2024-06-18 09:32:00+08:00
Long，Buy 1st: SZSE.159869 ,  2024-06-18 09:36:00+08:00 , volume: 1200 , price: 0.835 , invest_amount: 1002.0
Long，Buy more: SZSE.159869 ,  2024-06-20 10:02:00+08:00 , volume: 2500 , price: 0.809 , invest_amount: 2022.5000000000002
Long，Buy more: SZSE.159869 ,  2024-06-21 09:34:00+08:00 , volume: 5100 , price: 0.789 , invest_amount: 4023.9
Long，Buy more: SZSE.159869 ,  2024-06-24 10:18:00+08:00 , volume: 10400 , price: 0.776 , invest_amount: 8070.400000000001
Long，Buy more: SZSE.159869 ,  2024-06-25 10:28:00+08:00 , volume: 21000 , price: 0.763 , invest_amount: 16023.0
Long，Buy more: SZSE.159869 ,  2024-06-25 14:08:00+08:00 , volume: 42700 , price: 0.751 , invest_amount: 32067.7
Long，take_profit. profit_ratio: 0.030848211107507618 , price: 0.786
Long，Close: SZSE.159869 ,  2024-06-26 13:30:00+08:00 , volume: 82900 , long_avg_cost: 0.7624788902291918 , final_amount: 63209.5
Long，Buy 1st: SZSE.159869 ,  2024-06-26 13:30:00+08:00 , volume: 1300 , price: 0.786 , invest_amount: 1021.8000000000001
Long，Buy more: SZSE.159869 ,  2024-07-04 14:12:00+08:00 , volume: 2700 , price: 0.762 , invest_amount: 2057.4
Long，Buy more: SZSE.159869 ,  2024-07-08 10:32:00+08:00 , volume: 5400 , price: 0.746 , invest_amount: 4028.4
Long，Buy more: SZSE.159869 ,  2024-07-09 10:18:00+08:00 , volume: 11000 , price: 0.733 , invest_amount: 8063.0
Long，Buy more: SZSE.159869 ,  2024-07-24 10:20:00+08:00 , volume: 22200 , price: 0.721 , invest_amount: 16006.199999999999
Long，Buy more: SZSE.159869 ,  2024-07-25 09:32:00+08:00 , volume: 45300 , price: 0.707 , invest_amount: 32027.1
Long，take_profit. profit_ratio: 0.03053609033619762 , price: 0.741
Long，Close: SZSE.159869 ,  2024-07-29 10:46:00+08:00 , volume: 87900 , long_avg_cost: 0.7190432309442548 , final_amount: 63203.9
Long，Buy 1st: SZSE.159869 ,  2024-07-29 10:46:00+08:00 , volume: 1400 , price: 0.741 , invest_amount: 1037.4
Long，take_profit. profit_ratio: 0.031039136302294226 , price: 0.764
Long，Close: SZSE.159869 ,  2024-07-31 11:30:00+08:00 , volume: 1400 , long_avg_cost: 0.741 , final_amount: 1037.4
Long，Buy 1st: SZSE.159869 ,  2024-07-31 11:30:00+08:00 , volume: 1400 , price: 0.764 , invest_amount: 1069.6
Long，take_profit. profit_ratio: 0.03010471204188484 , price: 0.787
Long，Close: SZSE.159869 ,  2024-08-07 13:32:00+08:00 , volume: 1400 , long_avg_cost: 0.764 , final_amount: 1069.6
Long，Buy 1st: SZSE.159869 ,  2024-08-07 13:32:00+08:00 , volume: 1300 , price: 0.787 , invest_amount: 1023.1
Long，Buy more: SZSE.159869 ,  2024-08-08 09:46:00+08:00 , volume: 2700 , price: 0.761 , invest_amount: 2054.7
Long，Buy more: SZSE.159869 ,  2024-08-12 09:32:00+08:00 , volume: 5400 , price: 0.744 , invest_amount: 4017.6
Long，take_profit. profit_ratio: 0.03599515178848282 , price: 0.782
Long，Close: SZSE.159869 ,  2024-08-15 10:20:00+08:00 , volume: 9400 , long_avg_cost: 0.7548297872340425 , final_amount: 7095.4
Long，Buy 1st: SZSE.159869 ,  2024-08-15 10:20:00+08:00 , volume: 1300 , price: 0.782 , invest_amount: 1016.6
Long，Buy more: SZSE.159869 ,  2024-08-21 13:20:00+08:00 , volume: 2700 , price: 0.758 , invest_amount: 2046.6
Long，Buy more: SZSE.159869 ,  2024-08-22 09:54:00+08:00 , volume: 5400 , price: 0.741 , invest_amount: 4001.4
Long，Buy more: SZSE.159869 ,  2024-08-22 13:44:00+08:00 , volume: 11000 , price: 0.729 , invest_amount: 8019.0
Long，Buy more: SZSE.159869 ,  2024-08-23 10:04:00+08:00 , volume: 22400 , price: 0.717 , invest_amount: 16060.8
Long，take_profit. profit_ratio: 0.03068288360026212 , price: 0.75
Long，Close: SZSE.159869 ,  2024-08-29 11:02:00+08:00 , volume: 42800 , long_avg_cost: 0.7276728971962616 , final_amount: 31144.399999999998
Long，Buy 1st: SZSE.159869 ,  2024-08-29 11:02:00+08:00 , volume: 1400 , price: 0.75 , invest_amount: 1050.0
Long，take_profit. profit_ratio: 0.030666666666666693 , price: 0.773
Long，Close: SZSE.159869 ,  2024-08-30 10:30:00+08:00 , volume: 1400 , long_avg_cost: 0.75 , final_amount: 1050.0
Long，Buy 1st: SZSE.159869 ,  2024-08-30 10:30:00+08:00 , volume: 1300 , price: 0.773 , invest_amount: 1004.9
Long，Buy more: SZSE.159869 ,  2024-09-02 14:58:00+08:00 , volume: 2700 , price: 0.749 , invest_amount: 2022.3
Long，take_profit. profit_ratio: 0.03329809725158577 , price: 0.782
Long，Close: SZSE.159869 ,  2024-09-05 10:38:00+08:00 , volume: 4000 , long_avg_cost: 0.7567999999999999 , final_amount: 3027.2
Long，Buy 1st: SZSE.159869 ,  2024-09-05 10:38:00+08:00 , volume: 1300 , price: 0.782 , invest_amount: 1016.6
Long，Buy more: SZSE.159869 ,  2024-09-10 09:36:00+08:00 , volume: 2700 , price: 0.757 , invest_amount: 2043.9
Long，Buy more: SZSE.159869 ,  2024-09-18 09:54:00+08:00 , volume: 5400 , price: 0.741 , invest_amount: 4001.4
Long，take_profit. profit_ratio: 0.03558532406292934 , price: 0.778
Long，Close: SZSE.159869 ,  2024-09-24 13:02:00+08:00 , volume: 9400 , long_avg_cost: 0.7512659574468085 , final_amount: 7061.9
Long，Buy 1st: SZSE.159869 ,  2024-09-24 13:02:00+08:00 , volume: 1300 , price: 0.778 , invest_amount: 1011.4
Done! From start, time elapsed: 1.8271002769470215 seconds
SZSE.159869 backtest finished:  {'account_id': '07f52dc2-489e-11ef-8e54-00ffb355a5f1', 'pnl_ratio': 0.05477530208398442, 'pnl_ratio_annual': 0.2019493460672153, 'sharp_ratio': 3.167100352327201, 'max_drawdown': 0.011736233089188742, 'risk_ratio': 0.009590667390718384, 'open_count': 29, 'close_count': 9, 'win_count': 9, 'win_ratio': 1.0, 'calmar_ratio': 17.207339402047857, 'created_at': datetime.datetime(2025, 2, 19, 20, 16, 56, 519825, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800), 'Asia/Shanghai')), 'updated_at': datetime.datetime(2025, 2, 19, 20, 16, 58, 332546, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800), 'Asia/Shanghai')), 'lose_count': 0}
